{"version":3,"sources":["index.js"],"names":["Square","props","className","cellType","style","backgroundColor","bgColor","Dot","Line","lineType","onClick","Board","i","lines","undefined","this","SquareLines","push","square","squares","renderSquare","renderLine","renderDot","React","Component","Game","state","history","Array","fill","xIsNext","stepNumber","step","setState","slice","current","length","NewXIsNext","checkSquaresToClose","concat","value","k","filtered","filter","SquaresOfLine","mantieniPlayer","j","temp","closeSquare","finish","calculateFinish","moves","map","move","desc","key","jumpTo","pointsRed","status","pointsBlue","handleClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8cbf5858.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nfunction Square(props) {\r\n\treturn (\r\n      <button \r\n\t\t\tclassName={`square_${ props.cellType }`} \r\n\t\t\tstyle={{ backgroundColor: props.bgColor }}>\r\n        \r\n      </button>\r\n    );\r\n}\r\n\r\nfunction Dot(props) {\r\n    return (\r\n        <button className={`dot`}></button>\r\n    );\r\n}\r\n\r\nfunction Line(props) {\r\n    return (\r\n        <button\r\n            className={`line${props.lineType}`}\r\n            onClick={() => props.onClick()}\r\n            style={{ backgroundColor: props.bgColor }}\r\n        >\r\n                \r\n        </button>\r\n    ); \r\n} \r\n\r\nclass Board extends React.Component {\r\n    renderSquare(i,cellType, lines) {\r\n\t\t// salvo i legami dello specifico square con le sue lines\r\n\t\t// this.props.SquareLines è passato per riferimento ed è parte dello stato del Game\r\n\t\tif (lines !== undefined) {\r\n\t\t\tthis.props.SquareLines.push({square: i, lines: lines})\r\n\t\t} \r\n\t\t\r\n        return <Square \r\n\t\t\tcellType={cellType}\r\n\t\t\tbgColor={(i !== null) ? this.props.squares[i] : null}\r\n\t\t/>;\r\n    }\r\n\r\n    renderLine(lineType, i) {\r\n        return <Line\r\n            lineType={lineType}\r\n            bgColor={(i !== null) ? this.props.lines[i] : null}\r\n            onClick={() => this.props.onClick(i)}\r\n        />;\r\n    }\r\n\r\n    renderDot() {\r\n        return <Dot/>;\r\n    }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(0, '4422', [0,2])}\r\n                {this.renderLine('V',0)}\r\n                {this.renderSquare(1, '2422', [0,1,3])}\r\n                {this.renderLine('V',1)}\r\n                {this.renderSquare(2, '2442', [1,4])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',2)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',3)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',4)}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(3, '4422', [5,9])}\r\n                {this.renderLine('V',5)}\r\n                {this.renderSquare(4, '2222', [5,2,6,10])}\r\n                {this.renderLine('V',6)}\r\n                {this.renderSquare(5, '2222', [6,3,7,11])}\r\n                {this.renderLine('V',7)}\r\n                {this.renderSquare(6, '2222', [7,4,8,12])}\r\n                {this.renderLine('V',8)}\r\n                {this.renderSquare(7, '2442', [8,13])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',9)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',10)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',11)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',12)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',13)}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(8, '4422', [14,20])}\r\n                {this.renderLine('V',14)}\r\n                {this.renderSquare(9, '2222', [14,9,15,21])}\r\n                {this.renderLine('V',15)}\r\n                {this.renderSquare(10, '2222', [15,10,16,22])}\r\n                {this.renderLine('V',16)}\r\n                {this.renderSquare(11, '2222', [16,11,17,23])}\r\n                {this.renderLine('V',17)}\r\n                {this.renderSquare(12, '2222', [17,12,18,24])}\r\n                {this.renderLine('V',18)}\r\n                {this.renderSquare(13, '2222', [18,13,19,25])}\r\n                {this.renderLine('V',19)}\r\n                {this.renderSquare(14, '2442', [19,26])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('H',20)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',21)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',22)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',23)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',24)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',25)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',26)}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(15, '4222', [20,27,33])}\r\n                {this.renderLine('V',27)}\r\n                {this.renderSquare(16, '2222', [27,21,28,34])}\r\n                {this.renderLine('V',28)}\r\n                {this.renderSquare(17, '2222', [28,22,29,35])}\r\n                {this.renderLine('V',29)}\r\n                {this.renderSquare(18, '2222', [29,23,30,36])}\r\n                {this.renderLine('V',30)}\r\n                {this.renderSquare(19, '2222', [30,24,31,37])}\r\n                {this.renderLine('V',31)}\r\n                {this.renderSquare(20, '2222', [31,25,32,38])}\r\n                {this.renderLine('V',32)}\r\n                {this.renderSquare(21, '2242', [32,26,39])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('H',33)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',34)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',35)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',36)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',37)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',38)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',39)}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(22, '4224', [33,40])}\r\n                {this.renderLine('V',40)}\r\n                {this.renderSquare(23, '2222', [40,34,41,46])}\r\n                {this.renderLine('V',41)}\r\n                {this.renderSquare(24, '2222', [41,35,42,47])}\r\n                {this.renderLine('V',42)}\r\n                {this.renderSquare(25, '2222', [42,36,43,48])}\r\n                {this.renderLine('V',43)}\r\n                {this.renderSquare(26, '2222', [43,37,44,49])}\r\n                {this.renderLine('V',44)}\r\n                {this.renderSquare(27, '2222', [44,38,45,50])}\r\n                {this.renderLine('V',45)}\r\n                {this.renderSquare(28, '2244', [45,39])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',46)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',47)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',48)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',49)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',50)}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(29, '4224', [46,51])}\r\n                {this.renderLine('V',51)}\r\n                {this.renderSquare(30, '2222', [51,47,52,55])}\r\n                {this.renderLine('V',52)}\r\n                {this.renderSquare(31, '2222', [52,48,53,56])}\r\n                {this.renderLine('V',53)}\r\n                {this.renderSquare(32, '2222', [53,49,54,57])}\r\n                {this.renderLine('V',54)}\r\n                {this.renderSquare(33, '2244', [54,50])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',55)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',56)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',57)}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(34, '4224', [55,58])}\r\n                {this.renderLine('V',58)}\r\n                {this.renderSquare(35, '2224', [58,56,59])}\r\n                {this.renderLine('V',59)}\r\n                {this.renderSquare(36, '2244', [59,57])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Game extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            history: [{ squares: Array(37).fill('white'), lines: Array(60).fill('black'), xIsNext: [] }],\r\n            stepNumber: 0,\r\n            xIsNext: true,\r\n\t\t\tSquareLines: []\r\n        };\r\n    }\r\n\r\n    jumpTo(step) {\r\n        this.setState({\r\n            stepNumber: step,\r\n            xIsNext: this.state.history[step].xIsNext //(step % 2) === 0 \r\n        });\r\n    }\r\n\r\n    handleClick(i) {\r\n        const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n        const current = history[history.length - 1];\r\n        const squares = current.squares.slice();\r\n        const lines = current.lines.slice();\r\n\t\tvar NewXIsNext = !this.state.xIsNext;\r\n\t\t\r\n        if (lines[i] !== 'black') return;\r\n\t\t\r\n        lines[i] = this.state.xIsNext ? 'red' : 'blue';\r\n\t\tif (this.checkSquaresToClose(squares,lines,i)) {\r\n\t\t\t// mantieni il player\r\n\t\t\tNewXIsNext = this.state.xIsNext;\r\n\t\t}\r\n\t\t\r\n        this.setState({\r\n            history: history.concat([{ squares: squares, lines: lines, xIsNext: NewXIsNext }]),\r\n            stepNumber: history.length,\r\n            xIsNext: NewXIsNext\r\n        });\r\n    }\r\n\t\r\n\tSquaresOfLine(value) {\r\n\t\t\r\n\t\tfor (var k = 0; k < value.lines.length; k++) {\r\n\t\t\tif (this === value.lines[k]) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tcheckSquaresToClose (squares,lines,i) {\r\n\t\t// dato i vado a filtrare su SquareLines\r\n\t\t\r\n\t\tconst filtered = this.state.SquareLines.filter(this.SquaresOfLine, i);\r\n\t\tvar mantieniPlayer = false;\r\n\t\t\r\n\t\tfor (var j = 0; j < filtered.length; j++) {\r\n\t\t\tvar temp = filtered[j];\r\n\t\t\tvar closeSquare = true;\r\n\t\t\tfor (var k = 0; k < temp.lines.length; k++) {\r\n\t\t\t\tif (lines[temp.lines[k]] === 'black' ) {\r\n\t\t\t\t\tcloseSquare = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (closeSquare) {\r\n\t\t\t\tsquares[filtered[j].square] = (this.state.xIsNext ? 'red' : 'blue');\r\n\t\t\t\tmantieniPlayer = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn mantieniPlayer;\r\n\t} \r\n\r\n    render() {\r\n        const history = this.state.history;\r\n        const current = history[this.state.stepNumber];\r\n        const finish = calculateFinish(current.squares);\r\n\r\n        const moves = history.map((step, move) => {\r\n\t\t\t// disabilito la history\r\n\t\t\tif (move > 0) return;\r\n\t\t\t\r\n            const desc = move ? 'Go to move #' + move : 'Restart';\r\n            return (\r\n                <li key={move}>\r\n                    <button onClick={() => this.jumpTo(move)}>{desc}</button>\r\n                </li>\r\n            )\r\n        });\r\n\r\n\t\tvar pointsRed = 0;\r\n\t\thistory[history.length - 1].squares.map((step, move) => {\r\n\t\t\tif (step === 'red') pointsRed = pointsRed + 1;\r\n        });\r\n\t\t\r\n\t\tvar pointsBlue = 0;\r\n\t\thistory[history.length - 1].squares.map((step, move) => {\r\n\t\t\tif (step === 'blue') pointsBlue = pointsBlue + 1;\r\n        });\r\n\r\n\t\tlet status;\r\n        if (finish) {\r\n            status = 'Finish!';\r\n\t\t\tif (pointsRed > pointsBlue) status += ' Red Win!';\r\n\t\t\tif (pointsBlue > pointsRed) status += ' Blue Win!';\r\n        } else {\r\n\t\t\tstatus = 'Next player: ' + (this.state.xIsNext ? 'Red' : 'Blu');\r\n        }\r\n\r\n        return (\r\n          <div className=\"game\">\r\n            <div className=\"game-board\">\r\n                    <Board\r\n                        squares={current.squares}\r\n                        lines={current.lines}\r\n\t\t\t\t\t\tSquareLines={this.state.SquareLines}\r\n                        onClick={(i) => this.handleClick(i)}\r\n                    />\r\n            </div>\r\n            <div className=\"game-info\">\r\n              <div>{status}</div>\r\n\t\t\t  <div>Red Points: {pointsRed}</div>\r\n\t\t\t  <div>Blue Points: {pointsBlue}</div>\r\n              <ol>{moves}</ol>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n  <Game />,\r\n  document.getElementById('root')\r\n);\r\n\r\nfunction calculateFinish(squares) {\r\n\t// quando tutti gli squares sono popolati con valore red o blue  \r\n\tfor (var i = 0; i < squares.length; i++) {\r\n\t\tif (squares[i] === 'white')\r\n\t\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n"],"sourceRoot":""}