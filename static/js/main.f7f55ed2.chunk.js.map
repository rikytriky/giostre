{"version":3,"sources":["index.js"],"names":["Square","props","className","cellType","style","backgroundColor","bgColor","Dot","Line","lineType","onClick","Timer","state","seconds","this","setState","manageTick","interval","setInterval","tick","clearInterval","React","Component","Board","i","lines","undefined","SquareLines","push","square","squares","renderSquare","renderLine","renderDot","Game","history","Array","fill","xIsNext","stepNumber","pointsRedExtraTimes","pointsBlueExtraTimes","timerSeconds","resetSeconds","step","stopTimer","slice","current","length","NewXIsNext","checkSquaresToClose","concat","calculateFinish","value","k","filtered","filter","SquaresOfLine","mantieniPlayer","j","temp","closeSquare","manageExtraPoints","finish","pointsRed","map","move","status","pointsBlue","handleClick","restart","ReactDOM","render","document","getElementById"],"mappings":"+OAIA,SAASA,EAAOC,GACf,OACK,4BACHC,UAAS,iBAAaD,EAAME,UAC5BC,MAAO,CAAEC,gBAAiBJ,EAAMK,WAMnC,SAASC,EAAIN,GACT,OACI,4BAAQC,UAAS,QAIzB,SAASM,EAAKP,GACV,OACI,4BACIC,UAAS,cAASD,EAAMQ,UACxBC,QAAS,kBAAMT,EAAMS,WACrBN,MAAO,CAAEC,gBAAiBJ,EAAMK,W,IAOtCK,E,YACJ,WAAYV,GAAQ,IAAD,8BACjB,4CAAMA,KACDW,MAAQ,CAAEC,QAAS,GAFP,E,oEAKX,IAAD,OACRC,KAAKC,UAAS,SAAAH,GAAK,MAAK,CACvBC,QAAS,EAAKZ,MAAMe,mB,0CAIC,IAAD,OAClBF,KAAKG,SAAWC,aAAY,kBAAM,EAAKC,SAAQ,O,6CAI/CC,cAAcN,KAAKG,Y,+BAInB,OACE,uCACUH,KAAKF,MAAMC,a,GAvBPQ,IAAMC,WA6BpBC,E,qLACWC,EAAErB,EAAUsB,GAOrB,YAJQC,IAAVD,GACHX,KAAKb,MAAM0B,YAAYC,KAAK,CAACC,OAAQL,EAAGC,MAAOA,IAGnC,kBAACzB,EAAD,CACZG,SAAUA,EACVG,QAAgB,OAANkB,EAAcV,KAAKb,MAAM6B,QAAQN,GAAK,S,iCAIpCf,EAAUe,GAAI,IAAD,OACpB,OAAO,kBAAChB,EAAD,CACHC,SAAUA,EACVH,QAAgB,OAANkB,EAAcV,KAAKb,MAAMwB,MAAMD,GAAK,KAC9Cd,QAAS,kBAAM,EAAKT,MAAMS,QAAQc,Q,kCAKtC,OAAO,kBAACjB,EAAD,Q,+BAIX,OACE,6BACM,yBAAKL,UAAU,aACVY,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,IAChCjB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,EAAE,IAClCjB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,IAChCjB,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,kBAAaL,EAAW,OAAQ,KAE1C,yBAAKxB,UAAU,aACVY,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,MAErB,yBAAK9B,UAAU,aACVY,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,IAChCjB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,EAAE,EAAE,KACpCjB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,EAAE,EAAE,KACpCjB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,EAAE,EAAE,KACpCjB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKiB,aAAa,EAAG,OAAQ,CAAC,EAAE,KAChCjB,KAAKiB,kBAAaL,EAAW,OAAQ,KAE1C,yBAAKxB,UAAU,aACVY,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,IAAI,GACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKkB,WAAW,MAErB,yBAAK9B,UAAU,aACVY,KAAKiB,aAAa,EAAG,OAAQ,CAAC,GAAG,KACjCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,EAAG,OAAQ,CAAC,GAAG,EAAE,GAAG,KACtCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,MAEvC,yBAAK7B,UAAU,aACVY,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,KAEzB,yBAAK9B,UAAU,aACVY,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,KACrCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,MAE1C,yBAAK7B,UAAU,aACVY,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,KAEzB,yBAAK9B,UAAU,aACVY,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,KAClCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,MAEvC,yBAAK7B,UAAU,aACVY,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKkB,WAAW,MAErB,yBAAK9B,UAAU,aACVY,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,KAClCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,GAAG,KACxCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,KAClCjB,KAAKiB,kBAAaL,EAAW,OAAQ,KAE1C,yBAAKxB,UAAU,aACVY,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKmB,YACLnB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKkB,WAAW,KAChBlB,KAAKkB,WAAW,MAErB,yBAAK9B,UAAU,aACVY,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,KAClCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,GAAG,KACrCjB,KAAKkB,WAAW,IAAI,IACpBlB,KAAKiB,aAAa,GAAI,OAAQ,CAAC,GAAG,KAClCjB,KAAKiB,kBAAaL,EAAW,OAAQ,IACrCZ,KAAKiB,kBAAaL,EAAW,OAAQ,U,GAtMlCL,IAAMC,WA6MpBY,E,YACF,WAAYjC,GAAQ,IAAD,8BACf,4CAAMA,KACDW,MAAQ,CACTuB,QAAS,CAAC,CAAEL,QAASM,MAAM,IAAIC,KAAK,SAAUZ,MAAOW,MAAM,IAAIC,KAAK,SAAUC,QAAS,KACvFC,WAAY,EACZD,SAAS,EAClBX,YAAa,GACba,oBAAqB,EACrBC,qBAAsB,EACtBC,aAAc,EACdC,cAAc,GAVM,E,oEAcZC,GACH9B,KAAKC,SAAS,CACVwB,WAAYK,EACZN,QAASxB,KAAKF,MAAMuB,QAAQS,GAAMN,Y,gCAKtCxB,KAAKC,SAAS,CACVoB,QAAS,CAAC,CAAEL,QAASM,MAAM,IAAIC,KAAK,SAAUZ,MAAOW,MAAM,IAAIC,KAAK,SAAUC,QAAS,KACvFC,WAAY,EACZD,SAAS,EAClBX,YAAa,GACba,oBAAqB,EACrBC,qBAAsB,EACtBC,aAAc,EACdC,cAAc,EACdE,WAAW,M,kCAIErB,GACR,IAAMW,EAAUrB,KAAKF,MAAMuB,QAAQW,MAAM,EAAGhC,KAAKF,MAAM2B,WAAa,GAC9DQ,EAAUZ,EAAQA,EAAQa,OAAS,GACnClB,EAAUiB,EAAQjB,QAAQgB,QAC1BrB,EAAQsB,EAAQtB,MAAMqB,QAC9BG,GAAcnC,KAAKF,MAAM0B,QAEN,UAAbb,EAAMD,KAGhBV,KAAKC,SAAS,CACb4B,cAAc,EACdD,aAAc,IAGTjB,EAAMD,GAAKV,KAAKF,MAAM0B,QAAU,MAAQ,OAC1CxB,KAAKoC,oBAAoBpB,EAAQL,EAAMD,KAE1CyB,EAAanC,KAAKF,MAAM0B,SAGnBxB,KAAKC,SAAS,CACVoB,QAASA,EAAQgB,OAAO,CAAC,CAAErB,QAASA,EAASL,MAAOA,EAAOa,QAASW,KACpEV,WAAYJ,EAAQa,OACpBV,QAASW,EAClBJ,UAAWO,EAAgBtB,Q,oCAIfuB,GAEb,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAM5B,MAAMuB,OAAQM,IACvC,GAAIxC,OAASuC,EAAM5B,MAAM6B,GACxB,OAAO,EAGT,OAAO,I,0CAGaxB,EAAQL,EAAMD,GAMlC,IAHA,IAAM+B,EAAWzC,KAAKF,MAAMe,YAAY6B,OAAO1C,KAAK2C,cAAejC,GAC/DkC,GAAiB,EAEZC,EAAI,EAAGA,EAAIJ,EAASP,OAAQW,IAAK,CAGzC,IAFA,IAAIC,EAAOL,EAASI,GAChBE,GAAc,EACTP,EAAI,EAAGA,EAAIM,EAAKnC,MAAMuB,OAAQM,IACT,UAAzB7B,EAAMmC,EAAKnC,MAAM6B,MACpBO,GAAc,GAIZA,IACH/B,EAAQyB,EAASI,GAAG9B,QAAWf,KAAKF,MAAM0B,QAAU,MAAQ,OAC5DoB,GAAiB,GAGnB,OAAOA,I,0CAKH5C,KAAKF,MAAM0B,QACdxB,KAAKC,SAAS,CAAE0B,qBAAsB3B,KAAKF,MAAM6B,qBAAuB,IAExE3B,KAAKC,SAAS,CAAEyB,oBAAqB1B,KAAKF,MAAM4B,oBAAsB,M,mCAKvE,OAAI1B,KAAKF,MAAMiC,UAAkB,GAE7B/B,KAAKF,MAAM+B,aACd7B,KAAKC,UAAS,SAAAH,GAAK,MAAK,CACvB+B,cAAc,EACdD,aAAc9B,EAAM8B,aAAe,OAGpC5B,KAAKC,UAAS,SAAAH,GAAK,MAAK,CACvB8B,aAAc9B,EAAM8B,aAAe,MAG/B5B,KAAKF,MAAM8B,aAAe,KAAQ,GACtC5B,KAAKgD,qBAIAhD,KAAKF,MAAM8B,gB,+BAGN,IAAD,OACCP,EAAUrB,KAAKF,MAAMuB,QACrBY,EAAUZ,EAAQrB,KAAKF,MAAM2B,YAC7BwB,EAASjD,KAAKF,MAAMiC,UAW5BmB,EAAY,EAChB7B,EAAQA,EAAQa,OAAS,GAAGlB,QAAQmC,KAAI,SAACrB,EAAMsB,GACjC,QAATtB,IAAgBoB,GAAwB,MAE7CA,GAAwBlD,KAAKF,MAAM4B,oBAEnC,IAMI2B,EANAC,EAAa,EAgBX,OAfNjC,EAAQA,EAAQa,OAAS,GAAGlB,QAAQmC,KAAI,SAACrB,EAAMsB,GACjC,SAATtB,IAAiBwB,GAA0B,MAEhDA,GAA0BtD,KAAKF,MAAM6B,qBAG3BsB,GACAI,EAAS,UACdH,EAAYI,IAAYD,GAAU,aAClCC,EAAaJ,IAAWG,GAAU,cAClCC,IAAeJ,IAAWG,GAAU,UAExCA,EAAS,iBAAmBrD,KAAKF,MAAM0B,QAAU,MAAQ,OAIlD,yBAAKpC,UAAU,QACb,yBAAKA,UAAU,cACP,kBAACqB,EAAD,CACIO,QAASiB,EAAQjB,QACjBL,MAAOsB,EAAQtB,MACjCE,YAAab,KAAKF,MAAMe,YACNjB,QAAS,SAACc,GAAD,OAAO,EAAK6C,YAAY7C,OAG7C,yBAAKtB,UAAU,aACb,6BAAMiE,GACf,kBAACxD,EAAD,CACAK,WAAY,kBAAM,EAAKA,gBAEvB,4CAAkBgD,GAClB,6CAAmBI,GACV,6BAAK,4BAAQ1D,QAAS,kBAAM,EAAK4D,YAA5B,kB,GArLAjD,IAAMC,WAiMzB,SAAS8B,EAAgBtB,GAExB,IAAK,IAAIN,EAAI,EAAGA,EAAIM,EAAQkB,OAAQxB,IACnC,GAAmB,UAAfM,EAAQN,GACX,OAAO,EAET,OAAO,EAXR+C,IAASC,OACP,kBAACtC,EAAD,MACAuC,SAASC,eAAe,W","file":"static/js/main.f7f55ed2.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nfunction Square(props) {\r\n\treturn (\r\n      <button \r\n\t\t\tclassName={`square_${ props.cellType }`} \r\n\t\t\tstyle={{ backgroundColor: props.bgColor }}>\r\n        \r\n      </button>\r\n    );\r\n}\r\n\r\nfunction Dot(props) {\r\n    return (\r\n        <button className={`dot`}></button>\r\n    );\r\n}\r\n\r\nfunction Line(props) {\r\n    return (\r\n        <button\r\n            className={`line${props.lineType}`}\r\n            onClick={() => props.onClick()}\r\n            style={{ backgroundColor: props.bgColor }}\r\n        >\r\n                \r\n        </button>\r\n    ); \r\n} \r\n\r\nclass Timer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { seconds: 0 };\r\n  }\r\n\r\n  tick() {\r\n\tthis.setState(state => ({\r\n\t\tseconds: this.props.manageTick()\r\n\t}));  \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.interval = setInterval(() => this.tick(), 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        Timer: {this.state.seconds}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Board extends React.Component {\r\n    renderSquare(i,cellType, lines) {\r\n\t\t// salvo i legami dello specifico square con le sue lines\r\n\t\t// this.props.SquareLines è passato per riferimento ed è parte dello stato del Game\r\n\t\tif (lines !== undefined) {\r\n\t\t\tthis.props.SquareLines.push({square: i, lines: lines})\r\n\t\t} \r\n\t\t\r\n        return <Square \r\n\t\t\tcellType={cellType}\r\n\t\t\tbgColor={(i !== null) ? this.props.squares[i] : null}\r\n\t\t/>;\r\n    }\r\n\r\n    renderLine(lineType, i) {\r\n        return <Line\r\n            lineType={lineType}\r\n            bgColor={(i !== null) ? this.props.lines[i] : null}\r\n            onClick={() => this.props.onClick(i)}\r\n        />;\r\n    }\r\n\r\n    renderDot() {\r\n        return <Dot/>;\r\n    }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(0, '4422', [0,2])}\r\n                {this.renderLine('V',0)}\r\n                {this.renderSquare(1, '2422', [0,1,3])}\r\n                {this.renderLine('V',1)}\r\n                {this.renderSquare(2, '2442', [1,4])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',2)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',3)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',4)}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(3, '4422', [5,9])}\r\n                {this.renderLine('V',5)}\r\n                {this.renderSquare(4, '2222', [5,2,6,10])}\r\n                {this.renderLine('V',6)}\r\n                {this.renderSquare(5, '2222', [6,3,7,11])}\r\n                {this.renderLine('V',7)}\r\n                {this.renderSquare(6, '2222', [7,4,8,12])}\r\n                {this.renderLine('V',8)}\r\n                {this.renderSquare(7, '2442', [8,13])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',9)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',10)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',11)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',12)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',13)}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(8, '4422', [14,20])}\r\n                {this.renderLine('V',14)}\r\n                {this.renderSquare(9, '2222', [14,9,15,21])}\r\n                {this.renderLine('V',15)}\r\n                {this.renderSquare(10, '2222', [15,10,16,22])}\r\n                {this.renderLine('V',16)}\r\n                {this.renderSquare(11, '2222', [16,11,17,23])}\r\n                {this.renderLine('V',17)}\r\n                {this.renderSquare(12, '2222', [17,12,18,24])}\r\n                {this.renderLine('V',18)}\r\n                {this.renderSquare(13, '2222', [18,13,19,25])}\r\n                {this.renderLine('V',19)}\r\n                {this.renderSquare(14, '2442', [19,26])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('H',20)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',21)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',22)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',23)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',24)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',25)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',26)}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(15, '4222', [20,27,33])}\r\n                {this.renderLine('V',27)}\r\n                {this.renderSquare(16, '2222', [27,21,28,34])}\r\n                {this.renderLine('V',28)}\r\n                {this.renderSquare(17, '2222', [28,22,29,35])}\r\n                {this.renderLine('V',29)}\r\n                {this.renderSquare(18, '2222', [29,23,30,36])}\r\n                {this.renderLine('V',30)}\r\n                {this.renderSquare(19, '2222', [30,24,31,37])}\r\n                {this.renderLine('V',31)}\r\n                {this.renderSquare(20, '2222', [31,25,32,38])}\r\n                {this.renderLine('V',32)}\r\n                {this.renderSquare(21, '2242', [32,26,39])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('H',33)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',34)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',35)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',36)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',37)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',38)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',39)}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(22, '4224', [33,40])}\r\n                {this.renderLine('V',40)}\r\n                {this.renderSquare(23, '2222', [40,34,41,46])}\r\n                {this.renderLine('V',41)}\r\n                {this.renderSquare(24, '2222', [41,35,42,47])}\r\n                {this.renderLine('V',42)}\r\n                {this.renderSquare(25, '2222', [42,36,43,48])}\r\n                {this.renderLine('V',43)}\r\n                {this.renderSquare(26, '2222', [43,37,44,49])}\r\n                {this.renderLine('V',44)}\r\n                {this.renderSquare(27, '2222', [44,38,45,50])}\r\n                {this.renderLine('V',45)}\r\n                {this.renderSquare(28, '2244', [45,39])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',46)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',47)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',48)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',49)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',50)}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(29, '4224', [46,51])}\r\n                {this.renderLine('V',51)}\r\n                {this.renderSquare(30, '2222', [51,47,52,55])}\r\n                {this.renderLine('V',52)}\r\n                {this.renderSquare(31, '2222', [52,48,53,56])}\r\n                {this.renderLine('V',53)}\r\n                {this.renderSquare(32, '2222', [53,49,54,57])}\r\n                {this.renderLine('V',54)}\r\n                {this.renderSquare(33, '2244', [54,50])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('H',55)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',56)}\r\n                {this.renderDot()}\r\n                {this.renderLine('H',57)}\r\n                {this.renderLine('B')}\r\n                {this.renderLine('B')}\r\n            </div>\r\n            <div className=\"board-row\">\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(34, '4224', [55,58])}\r\n                {this.renderLine('V',58)}\r\n                {this.renderSquare(35, '2224', [58,56,59])}\r\n                {this.renderLine('V',59)}\r\n                {this.renderSquare(36, '2244', [59,57])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n                {this.renderSquare(undefined, '0000', [])}\r\n            </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Game extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            history: [{ squares: Array(37).fill('white'), lines: Array(60).fill('black'), xIsNext: [] }],\r\n            stepNumber: 0,\r\n            xIsNext: true,\r\n\t\t\tSquareLines: [],\r\n\t\t\tpointsRedExtraTimes: 0,\r\n\t\t\tpointsBlueExtraTimes: 0,\r\n\t\t\ttimerSeconds: 0,\r\n\t\t\tresetSeconds: true\r\n        };\r\n    }\r\n\r\n    jumpTo(step) {\r\n        this.setState({\r\n            stepNumber: step,\r\n            xIsNext: this.state.history[step].xIsNext\r\n        });\r\n    }\r\n\t\r\n\trestart() {\r\n        this.setState({\r\n            history: [{ squares: Array(37).fill('white'), lines: Array(60).fill('black'), xIsNext: [] }],\r\n            stepNumber: 0,\r\n            xIsNext: true,\r\n\t\t\tSquareLines: [],\r\n\t\t\tpointsRedExtraTimes: 0,\r\n\t\t\tpointsBlueExtraTimes: 0,\r\n\t\t\ttimerSeconds: 0,\r\n\t\t\tresetSeconds: true,\r\n\t\t\tstopTimer: false\r\n        });\r\n    }\r\n\r\n    handleClick(i) {\r\n        const history = this.state.history.slice(0, this.state.stepNumber + 1);\r\n        const current = history[history.length - 1];\r\n        const squares = current.squares.slice();\r\n        const lines = current.lines.slice();\r\n\t\tvar NewXIsNext = !this.state.xIsNext;\r\n\t\t\r\n        if (lines[i] !== 'black') return;\r\n\t\t\r\n\t\t// reset timer\r\n\t\tthis.setState({\r\n\t\t\tresetSeconds: true,\r\n\t\t\ttimerSeconds: 0\r\n\t\t});\r\n\t\t\r\n        lines[i] = this.state.xIsNext ? 'red' : 'blue';\r\n\t\tif (this.checkSquaresToClose(squares,lines,i)) {\r\n\t\t\t// mantieni il player\r\n\t\t\tNewXIsNext = this.state.xIsNext;\r\n\t\t}\r\n\t\t\r\n        this.setState({\r\n            history: history.concat([{ squares: squares, lines: lines, xIsNext: NewXIsNext }]),\r\n            stepNumber: history.length,\r\n            xIsNext: NewXIsNext,\r\n\t\t\tstopTimer: calculateFinish(squares)\r\n        });\r\n    }\r\n\t\r\n\tSquaresOfLine(value) {\r\n\t\t\r\n\t\tfor (var k = 0; k < value.lines.length; k++) {\r\n\t\t\tif (this === value.lines[k]) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tcheckSquaresToClose (squares,lines,i) {\r\n\t\t// dato i vado a filtrare su SquareLines\r\n\t\t\r\n\t\tconst filtered = this.state.SquareLines.filter(this.SquaresOfLine, i);\r\n\t\tvar mantieniPlayer = false;\r\n\t\t\r\n\t\tfor (var j = 0; j < filtered.length; j++) {\r\n\t\t\tvar temp = filtered[j];\r\n\t\t\tvar closeSquare = true;\r\n\t\t\tfor (var k = 0; k < temp.lines.length; k++) {\r\n\t\t\t\tif (lines[temp.lines[k]] === 'black' ) {\r\n\t\t\t\t\tcloseSquare = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (closeSquare) {\r\n\t\t\t\tsquares[filtered[j].square] = (this.state.xIsNext ? 'red' : 'blue');\r\n\t\t\t\tmantieniPlayer = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn mantieniPlayer;\r\n\t} \r\n\t\r\n\tmanageExtraPoints() {\r\n\t\t\r\n\t\tif (this.state.xIsNext) {\r\n\t\t\tthis.setState({ pointsBlueExtraTimes: this.state.pointsBlueExtraTimes + 1});\r\n\t\t}  else {\t\r\n\t\t\tthis.setState({ pointsRedExtraTimes: this.state.pointsRedExtraTimes + 1});\r\n\t\t}\r\n\t}\r\n\t\r\n\tmanageTick() {\r\n\t\tif (this.state.stopTimer) return 0;\r\n\t\t\r\n\t\tif (this.state.resetSeconds) {\r\n\t\t\tthis.setState(state => ({\r\n\t\t\t\tresetSeconds: false,\r\n\t\t\t\ttimerSeconds: state.timerSeconds + 1\r\n\t\t\t}));\r\n\t\t} else {\r\n\t\t\tthis.setState(state => ({\r\n\t\t\t\ttimerSeconds: state.timerSeconds + 1\r\n\t\t\t}));\r\n\t\t\t\r\n\t\t\tif ((this.state.timerSeconds % 10) === 0) {\r\n\t\t\t\tthis.manageExtraPoints();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn this.state.timerSeconds;\r\n\t}\r\n\r\n    render() {\r\n        const history = this.state.history;\r\n        const current = history[this.state.stepNumber];\r\n        const finish = this.state.stopTimer; //calculateFinish(current.squares);\r\n\r\n        /*const moves = history.map((step, move) => {\r\n            const desc = move ? 'Go to move #' + move : 'Restart';\r\n            return (\r\n                <li key={move}>\r\n                    <button onClick={() => this.jumpTo(move)}>{desc}</button>\r\n                </li>\r\n            )\r\n        });*/\r\n\t\t\r\n\t\tvar pointsRed = 0;\r\n\t\thistory[history.length - 1].squares.map((step, move) => {\r\n\t\t\tif (step === 'red') pointsRed = pointsRed + 1;\r\n        });\r\n\t\tpointsRed = pointsRed + this.state.pointsRedExtraTimes;\r\n\t\t\r\n\t\tvar pointsBlue = 0;\r\n\t\thistory[history.length - 1].squares.map((step, move) => {\r\n\t\t\tif (step === 'blue') pointsBlue = pointsBlue + 1;\r\n        });\r\n\t\tpointsBlue = pointsBlue + this.state.pointsBlueExtraTimes;\r\n\r\n\t\tlet status;\r\n        if (finish) {\r\n            status = 'Finish!';\r\n\t\t\tif (pointsRed > pointsBlue) status += ' Red Win!';\r\n\t\t\tif (pointsBlue > pointsRed) status += ' Blue Win!';\r\n\t\t\tif (pointsBlue === pointsRed) status += ' Due!';\r\n        } else {\r\n\t\t\tstatus = 'Next player: ' + (this.state.xIsNext ? 'Red' : 'Blu');\r\n        }\r\n\r\n        return (\r\n          <div className=\"game\">\r\n            <div className=\"game-board\">\r\n                    <Board\r\n                        squares={current.squares}\r\n                        lines={current.lines}\r\n\t\t\t\t\t\tSquareLines={this.state.SquareLines}\r\n                        onClick={(i) => this.handleClick(i)}\r\n                    />\r\n            </div>\r\n            <div className=\"game-info\">\r\n              <div>{status}</div>\r\n\t\t\t  <Timer \r\n\t\t\t\t\tmanageTick={() => this.manageTick()}\r\n\t\t\t  />\r\n\t\t\t  <div>Red Points: {pointsRed}</div>\r\n\t\t\t  <div>Blue Points: {pointsBlue}</div>\r\n              <div><button onClick={() => this.restart()}>Restart</button></div>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nReactDOM.render(\r\n  <Game />,\r\n  document.getElementById('root')\r\n);\r\n\r\nfunction calculateFinish(squares) {\r\n\t// quando tutti gli squares sono popolati con valore red o blue  \r\n\tfor (var i = 0; i < squares.length; i++) {\r\n\t\tif (squares[i] === 'white')\r\n\t\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n"],"sourceRoot":""}